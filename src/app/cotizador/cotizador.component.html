<div class="cotizador-container">
  <h2>Cotizador de Precio por Volumen</h2>

  <!-- Mensaje de error con el estilo de fondo rojo -->
  <div *ngIf="mensajeError" class="error-message">
    {{ mensajeError }}
  </div>

  <!-- El formulario solo se muestra si no hay error -->
  <form *ngIf="!mensajeError" (ngSubmit)="calcularVolumen()">
    <label for="largo">Largo (cm):</label>
    <input type="number" [(ngModel)]="largo" name="largo" required>

    <label for="ancho">Ancho (cm):</label>
    <input type="number" [(ngModel)]="ancho" name="ancho" required>

    <label for="alto">Alto (cm):</label>
    <input type="number" [(ngModel)]="alto" name="alto" required>

    <button type="submit">Calcular</button>
  </form>

  <!-- Resultados si el volumen está calculado y no hay mensaje de error -->
  <div *ngIf="volumen > 0 && !mensajeError">
    <p>Volumen: {{ volumen }} cm³</p>
    <p>Precio: {{ precio | currency:'CLP' }}</p>
    <button (click)="procesarPedido()">Confirmar Pedido</button>
  </div>

  <!-- Si el pedido ha sido creado, mostramos el resultado -->
  <div *ngIf="pedidoCreado && !mensajeError">
    <app-resultado [pedido]="pedido"></app-resultado>
  </div>

  <!-- Botón para reiniciar el formulario en caso de error -->
  <button *ngIf="mensajeError" class="volver" (click)="reiniciarFormulario()">Volver al Formulario</button>

  <!-- Botón para reiniciar el formulario si el pedido fue creado -->
  <button *ngIf="pedidoCreado && !mensajeError" (click)="reiniciarFormulario()">Realizar Otro Pedido</button>
</div>
